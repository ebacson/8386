<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XSMB - K·∫øt qu·∫£ x·ªï s·ªë mi·ªÅn B·∫Øc | XSMN | XSMT | Vietlott</title>
    <meta name="description" content="K·∫øt qu·∫£ x·ªï s·ªë mi·ªÅn B·∫Øc, mi·ªÅn Nam, mi·ªÅn Trung v√† Vietlott. C·∫≠p nh·∫≠t nhanh nh·∫•t, th·ªëng k√™ chi ti·∫øt, d·ª± ƒëo√°n chuy√™n gia v√† quay th·ª≠ mi·ªÖn ph√≠.">
    <meta name="keywords" content="xsmb, xsmn, xsmt, vietlott, k·∫øt qu·∫£ x·ªï s·ªë, th·ªëng k√™ x·ªï s·ªë, d·ª± ƒëo√°n x·ªï s·ªë">
    <meta name="author" content="XSMB Online">
    <meta property="og:title" content="XSMB - K·∫øt qu·∫£ x·ªï s·ªë mi·ªÅn B·∫Øc">
    <meta property="og:description" content="K·∫øt qu·∫£ x·ªï s·ªë mi·ªÅn B·∫Øc, mi·ªÅn Nam, mi·ªÅn Trung v√† Vietlott. C·∫≠p nh·∫≠t nhanh nh·∫•t.">
    <meta property="og:type" content="website">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üé≤</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header */
        .header {
            background: #fff;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .header h1 {
            color: #e74c3c;
            font-size: 2.5em;
            margin: 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .header .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
        }

        /* Date Selector */
        .date-selector {
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .date-selector label {
            color: #2c3e50;
            font-weight: bold;
            font-size: 1em;
        }

        .date-selector select {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 150px;
        }

        .date-selector select:hover {
            background: linear-gradient(45deg, #2980b9, #1f4e79);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .date-selector select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);
        }

        .date-selector select option {
            background: #2c3e50;
            color: white;
            padding: 10px;
        }

        /* Dark Mode Toggle */
        .dark-mode-toggle {
            background: linear-gradient(45deg, #2c3e50, #34495e);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5em;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .dark-mode-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        /* Dark Mode Styles */
        body.dark-mode {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
        }

        body.dark-mode .header,
        body.dark-mode .nav,
        body.dark-mode .results-section,
        body.dark-mode .stats-section,
        body.dark-mode .prediction-section,
        body.dark-mode .footer {
            background: #2c3e50;
            color: #e0e0e0;
        }

        body.dark-mode .prize-table {
            background: #34495e;
        }

        body.dark-mode .prize-table th {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }

        body.dark-mode .prize-table td {
            background: #34495e;
            color: #e0e0e0;
            border-color: #4a5f7a;
        }

        body.dark-mode .prize-table tr:nth-child(even) td {
            background: #2c3e50;
        }


        body.dark-mode .stat-item {
            background: #34495e;
            border-left-color: #3498db;
        }

        body.dark-mode .prediction-card {
            background: linear-gradient(45deg, #9b59b6, #8e44ad);
        }

        body.dark-mode .game-card {
            background: linear-gradient(45deg, #9b59b6, #8e44ad);
        }

        body.dark-mode .stat-card {
            background: #34495e;
            border-left-color: #3498db;
        }

        body.dark-mode .date-selector label {
            color: #e0e0e0;
        }

        body.dark-mode .date-selector select {
            background: linear-gradient(45deg, #3498db, #2980b9);
        }

        body.dark-mode .date-selector select option {
            background: #2c3e50;
            color: #e0e0e0;
        }

        /* Navigation */
        .nav {
            background: #fff;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .nav li {
            background: linear-gradient(45deg, #3498db, #2980b9);
            border-radius: 25px;
            transition: all 0.3s ease;
        }

        .nav li:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .nav a {
            display: block;
            padding: 12px 20px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            border-radius: 25px;
        }

        .nav a:hover {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }

        /* Main Content */
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .results-section {
            background: #fff;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .results-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #e74c3c;
        }

        .results-header h2 {
            color: #e74c3c;
            font-size: 1.8em;
            margin-bottom: 5px;
        }

        .results-header .date {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        /* Prize Table */
        .prize-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 25px;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .prize-table th {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.1em;
        }

        .prize-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #ecf0f1;
            font-size: 1.1em;
            font-weight: bold;
        }

        .prize-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .prize-table tr:hover {
            background: #e8f4f8;
            transform: scale(1.02);
            transition: all 0.3s ease;
        }

        .special-prize {
            background: linear-gradient(45deg, #f39c12, #e67e22) !important;
            color: white !important;
            font-size: 1.3em !important;
        }


        /* Statistics */
        .stats-section {
            background: #fff;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .stats-section h3 {
            color: #e74c3c;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.5em;
        }

        .stat-item {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
            transition: all 0.3s ease;
        }

        .stat-item:hover {
            background: #e8f4f8;
            transform: translateX(5px);
        }

        .stat-item h4 {
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-item p {
            color: #7f8c8d;
            font-size: 0.9em;
        }

        /* Prediction Section */
        .prediction-section {
            background: #fff;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .prediction-section h3 {
            color: #e74c3c;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.5em;
        }

        .prediction-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .prediction-card {
            background: linear-gradient(45deg, #9b59b6, #8e44ad);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .prediction-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(155, 89, 182, 0.4);
        }

        .prediction-card h4 {
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .prediction-card .number {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        /* Footer */
        .footer {
            background: #2c3e50;
            color: white;
            text-align: center;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
        }

        /* Content Sections */
        .content-section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .content-section.active {
            display: block;
        }

        .nav-link.active {
            background: linear-gradient(45deg, #e74c3c, #c0392b) !important;
        }

        /* Vietlott Games */
        .vietlott-games {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .game-card {
            background: linear-gradient(45deg, #9b59b6, #8e44ad);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .game-card h3 {
            margin-bottom: 15px;
            font-size: 1.5em;
        }

        .vietlott-numbers {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }

        .vietlott-number {
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 15px;
            border-radius: 50%;
            font-weight: bold;
            font-size: 1.2em;
            min-width: 40px;
            text-align: center;
        }

        /* Statistics Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .stat-card {
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-left: 4px solid #3498db;
        }

        .stat-card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
        }

        /* Spin Wheel */
        .spin-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }

        .spin-wheel {
            background: linear-gradient(45deg, #f39c12, #e67e22);
            border-radius: 50%;
            width: 300px;
            height: 300px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 10px 30px rgba(243, 156, 18, 0.3);
        }

        .wheel-center {
            background: white;
            border-radius: 50%;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .spin-button {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-weight: bold;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .spin-button:hover {
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4);
        }

        .spin-result {
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .result-numbers {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .result-number {
            background: linear-gradient(45deg, #3498db, #2980b9);
            color: white;
            padding: 10px 15px;
            border-radius: 10px;
            font-weight: bold;
            font-size: 1.2em;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            .header h1 {
                font-size: 1.8em;
            }

            .header-top {
                flex-direction: column;
                gap: 15px;
            }

            .dark-mode-toggle {
                width: 45px;
                height: 45px;
                font-size: 1.3em;
            }
            

            .spin-section {
                grid-template-columns: 1fr;
            }

            .spin-wheel {
                width: 250px;
                height: 250px;
            }

            .vietlott-games {
                grid-template-columns: 1fr;
            }

            .prize-table {
                font-size: 0.9em;
            }

            .prize-table th,
            .prize-table td {
                padding: 8px 4px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .prediction-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .header h1 {
                font-size: 1.5em;
            }

            .nav a {
                padding: 10px 15px;
                font-size: 0.9em;
            }


            .prize-table {
                font-size: 0.8em;
            }

            .prediction-grid {
                grid-template-columns: 1fr;
            }

            .spin-wheel {
                width: 200px;
                height: 200px;
            }

            .wheel-center {
                width: 80px;
                height: 80px;
            }

            .spin-button {
                padding: 10px 15px;
                font-size: 1em;
            }
        }

        /* Animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #3498db;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header fade-in">
            <div class="header-top">
                <h1>üé≤ XSMB - X·ªï S·ªë Mi·ªÅn B·∫Øc</h1>
                <button id="darkModeToggle" class="dark-mode-toggle" onclick="toggleDarkMode()">
                    <span id="darkModeIcon">üåô</span>
                </button>
            </div>
            <p class="subtitle">K·∫øt qu·∫£ x·ªï s·ªë mi·ªÅn B·∫Øc - C·∫≠p nh·∫≠t nhanh nh·∫•t</p>
        </div>

        <!-- Navigation -->
        <nav class="nav fade-in">
            <ul>
                <li><a href="#" onclick="switchToSection('xsmb')" class="nav-link active">XSMB</a></li>
                <li><a href="#" onclick="switchToSection('xsmn')" class="nav-link">XSMN</a></li>
                <li><a href="#" onclick="switchToSection('xsmt')" class="nav-link">XSMT</a></li>
                <li><a href="#" onclick="switchToSection('vietlott')" class="nav-link">Vietlott</a></li>
                <li><a href="#" onclick="switchToSection('thongke')" class="nav-link">Th·ªëng k√™</a></li>
                <li><a href="#" onclick="switchToSection('dudoan')" class="nav-link">D·ª± ƒëo√°n</a></li>
                <li><a href="#" onclick="switchToSection('quaythu')" class="nav-link">Quay th·ª≠</a></li>
            </ul>
        </nav>

        <!-- Main Content -->
        <div class="main-content">
            <!-- XSMB Section -->
            <div id="xsmb-section" class="content-section active">
                <div class="results-section fade-in">
                    <div class="results-header">
                        <h2>K·∫øt qu·∫£ XSMB</h2>
                        <div class="date-selector">
                            <label for="xsmbDateSelect">Ch·ªçn ng√†y:</label>
                            <select id="xsmbDateSelect" onchange="loadXSMBByDate(this.value)">
                                <option value="today">H√¥m nay</option>
                                <option value="yesterday">H√¥m qua</option>
                                <option value="2days">2 ng√†y tr∆∞·ªõc</option>
                                <option value="3days">3 ng√†y tr∆∞·ªõc</option>
                                <option value="4days">4 ng√†y tr∆∞·ªõc</option>
                                <option value="5days">5 ng√†y tr∆∞·ªõc</option>
                                <option value="6days">6 ng√†y tr∆∞·ªõc</option>
                                <option value="7days">1 tu·∫ßn tr∆∞·ªõc</option>
                            </select>
                        </div>
                        <p class="date" id="xsmbDate">Th·ª© 7 - 28/09/2024</p>
                    </div>

                <table class="prize-table">
                    <thead>
                        <tr>
                            <th>Gi·∫£i</th>
                            <th>S·ªë tr√∫ng</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="special-prize">
                            <td>ƒê·∫∑c bi·ªát</td>
                            <td>925</td>
                        </tr>
                        <tr>
                            <td>Gi·∫£i 1</td>
                            <td>15736</td>
                        </tr>
                        <tr>
                            <td>Gi·∫£i 2</td>
                            <td>30092 - 27079</td>
                        </tr>
                        <tr>
                            <td>Gi·∫£i 3</td>
                            <td>93336 - 66831 - 48268 - 69292 - 21823 - 48471</td>
                        </tr>
                        <tr>
                            <td>Gi·∫£i 4</td>
                            <td>70207 - 91247 - 23265</td>
                        </tr>
                        <tr>
                            <td>Gi·∫£i 5</td>
                            <td>93040 - 48406 - 03699 - 10515 - 81691</td>
                        </tr>
                        <tr>
                            <td>Gi·∫£i 6</td>
                            <td>28268 - 70313</td>
                        </tr>
                        <tr>
                            <td>Gi·∫£i 7</td>
                            <td>68933 - 056</td>
                        </tr>
                    </tbody>
                </table>

                </div>

                <!-- Sidebar -->
                <div class="sidebar">
                    <!-- Statistics -->
                    <div class="stats-section fade-in">
                        <h3>üìä Th·ªëng k√™ nhanh</h3>
                        <div class="stat-item">
                            <h4>L√¥ gan nh·∫•t</h4>
                            <p>L√¥ 00 - 45 ng√†y ch∆∞a v·ªÅ</p>
                        </div>
                        <div class="stat-item">
                            <h4>L√¥ v·ªÅ nhi·ªÅu nh·∫•t</h4>
                            <p>L√¥ 68 - 12 l·∫ßn trong th√°ng</p>
                        </div>
                        <div class="stat-item">
                            <h4>ƒê·∫ßu v·ªÅ nhi·ªÅu</h4>
                            <p>ƒê·∫ßu 3 - 8 l·∫ßn tu·∫ßn n√†y</p>
                        </div>
                        <div class="stat-item">
                            <h4>ƒêu√¥i v·ªÅ nhi·ªÅu</h4>
                            <p>ƒêu√¥i 8 - 6 l·∫ßn tu·∫ßn n√†y</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- XSMN Section -->
            <div id="xsmn-section" class="content-section">
                <div class="results-section fade-in">
                    <div class="results-header">
                        <h2>K·∫øt qu·∫£ XSMN</h2>
                        <div class="date-selector">
                            <label for="xsmnDateSelect">Ch·ªçn ng√†y:</label>
                            <select id="xsmnDateSelect" onchange="loadXSMNByDate(this.value)">
                                <option value="today">H√¥m nay</option>
                                <option value="yesterday">H√¥m qua</option>
                                <option value="2days">2 ng√†y tr∆∞·ªõc</option>
                                <option value="3days">3 ng√†y tr∆∞·ªõc</option>
                                <option value="4days">4 ng√†y tr∆∞·ªõc</option>
                                <option value="5days">5 ng√†y tr∆∞·ªõc</option>
                                <option value="6days">6 ng√†y tr∆∞·ªõc</option>
                                <option value="7days">1 tu·∫ßn tr∆∞·ªõc</option>
                            </select>
                        </div>
                        <p class="date" id="xsmnDate">ƒêang c·∫≠p nh·∫≠t...</p>
                    </div>

                    <table class="prize-table">
                        <thead>
                            <tr>
                                <th>Gi·∫£i</th>
                                <th>S·ªë tr√∫ng</th>
                            </tr>
                        </thead>
                        <tbody id="xsmnPrizes">
                            <tr class="special-prize">
                                <td>ƒê·∫∑c bi·ªát</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 1</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 2</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 3</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 4</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 5</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 6</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 7</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>

            <!-- XSMT Section -->
            <div id="xsmt-section" class="content-section">
                <div class="results-section fade-in">
                    <div class="results-header">
                        <h2>K·∫øt qu·∫£ XSMT</h2>
                        <div class="date-selector">
                            <label for="xsmtDateSelect">Ch·ªçn ng√†y:</label>
                            <select id="xsmtDateSelect" onchange="loadXSMTByDate(this.value)">
                                <option value="today">H√¥m nay</option>
                                <option value="yesterday">H√¥m qua</option>
                                <option value="2days">2 ng√†y tr∆∞·ªõc</option>
                                <option value="3days">3 ng√†y tr∆∞·ªõc</option>
                                <option value="4days">4 ng√†y tr∆∞·ªõc</option>
                                <option value="5days">5 ng√†y tr∆∞·ªõc</option>
                                <option value="6days">6 ng√†y tr∆∞·ªõc</option>
                                <option value="7days">1 tu·∫ßn tr∆∞·ªõc</option>
                            </select>
                        </div>
                        <p class="date" id="xsmtDate">ƒêang c·∫≠p nh·∫≠t...</p>
                    </div>

                    <table class="prize-table">
                        <thead>
                            <tr>
                                <th>Gi·∫£i</th>
                                <th>S·ªë tr√∫ng</th>
                            </tr>
                        </thead>
                        <tbody id="xsmtPrizes">
                            <tr class="special-prize">
                                <td>ƒê·∫∑c bi·ªát</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 1</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 2</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 3</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 4</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 5</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 6</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                            <tr>
                                <td>Gi·∫£i 7</td>
                                <td>ƒêang c·∫≠p nh·∫≠t...</td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>

            <!-- Vietlott Section -->
            <div id="vietlott-section" class="content-section">
                <div class="results-section fade-in">
                    <div class="results-header">
                        <h2>K·∫øt qu·∫£ Vietlott</h2>
                        <p class="date">ƒêang c·∫≠p nh·∫≠t...</p>
                    </div>
                    <div class="vietlott-games">
                        <div class="game-card">
                            <h3>Mega 6/45</h3>
                            <div class="vietlott-numbers" id="mega645">
                                <!-- Mega 645 numbers -->
                            </div>
                        </div>
                        <div class="game-card">
                            <h3>Power 6/55</h3>
                            <div class="vietlott-numbers" id="power655">
                                <!-- Power 655 numbers -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Th·ªëng k√™ Section -->
            <div id="thongke-section" class="content-section">
                <div class="results-section fade-in">
                    <div class="results-header">
                        <h2>Th·ªëng k√™ chi ti·∫øt</h2>
                        <p class="date">Ph√¢n t√≠ch d·ªØ li·ªáu x·ªï s·ªë</p>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>L√¥ gan</h3>
                            <div id="ganStats">ƒêang t·∫£i...</div>
                        </div>
                        <div class="stat-card">
                            <h3>T·∫ßn su·∫•t</h3>
                            <div id="frequencyStats">ƒêang t·∫£i...</div>
                        </div>
                        <div class="stat-card">
                            <h3>ƒê·∫ßu ƒëu√¥i</h3>
                            <div id="headTailStats">ƒêang t·∫£i...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- D·ª± ƒëo√°n Section -->
            <div id="dudoan-section" class="content-section">
                <div class="results-section fade-in">
                    <div class="results-header">
                        <h2>D·ª± ƒëo√°n chuy√™n gia</h2>
                        <p class="date">Ph√¢n t√≠ch v√† d·ª± ƒëo√°n</p>
                    </div>
                    <div class="prediction-grid">
                        <div class="prediction-card">
                            <h4>B·∫°ch th·ªß ƒë·ªÅ</h4>
                            <div class="number">19</div>
                            <p>T·ª∑ l·ªá: 85%</p>
                        </div>
                        <div class="prediction-card">
                            <h4>L√¥ xi√™n 2</h4>
                            <div class="number">68-92</div>
                            <p>T·ª∑ l·ªá: 78%</p>
                        </div>
                        <div class="prediction-card">
                            <h4>L√¥ xi√™n 3</h4>
                            <div class="number">15-36-84</div>
                            <p>T·ª∑ l·ªá: 65%</p>
                        </div>
                        <div class="prediction-card">
                            <h4>C·∫ßu ƒë·∫πp</h4>
                            <div class="number">23-30</div>
                            <p>T·ª∑ l·ªá: 72%</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quay th·ª≠ Section -->
            <div id="quaythu-section" class="content-section">
                <div class="results-section fade-in">
                    <div class="results-header">
                        <h2>Quay th·ª≠ x·ªï s·ªë</h2>
                        <p class="date">Th·ª≠ v·∫≠n may c·ªßa b·∫°n</p>
                    </div>
                    <div class="spin-section">
                        <div class="spin-wheel" id="spinWheel">
                            <div class="wheel-center">
                                <button onclick="spinWheel()" class="spin-button">QUAY</button>
                            </div>
                        </div>
                        <div class="spin-result" id="spinResult">
                            <h3>K·∫øt qu·∫£ quay th·ª≠</h3>
                            <div class="result-numbers" id="resultNumbers">
                                <!-- Results will appear here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Footer -->
        <div class="footer fade-in">
            <p>&copy; 2024 XSMB - X·ªï S·ªë Mi·ªÅn B·∫Øc. T·∫•t c·∫£ quy·ªÅn ƒë∆∞·ª£c b·∫£o l∆∞u.</p>
            <p>Th√¥ng tin ch·ªâ mang t√≠nh ch·∫•t tham kh·∫£o</p>
        </div>
    </div>

    <script>
        // Data storage
        let currentData = null;
        let currentSection = 'xsmb';
        let spinHistory = [];
        
        // Historical data storage
        let historicalData = {
            xsmb: {},
            xsmn: {},
            xsmt: {}
        };
        
        // Dark Mode Functions
        function toggleDarkMode() {
            const body = document.body;
            const icon = document.getElementById('darkModeIcon');
            
            body.classList.toggle('dark-mode');
            
            if (body.classList.contains('dark-mode')) {
                icon.textContent = '‚òÄÔ∏è';
                localStorage.setItem('darkMode', 'enabled');
            } else {
                icon.textContent = 'üåô';
                localStorage.setItem('darkMode', 'disabled');
            }
        }
        
        // Initialize dark mode from localStorage
        function initDarkMode() {
            const darkMode = localStorage.getItem('darkMode');
            const icon = document.getElementById('darkModeIcon');
            
            if (darkMode === 'enabled') {
                document.body.classList.add('dark-mode');
                icon.textContent = '‚òÄÔ∏è';
            }
        }
        
        // Share functionality
        function shareResults() {
            if (navigator.share) {
                navigator.share({
                    title: 'K·∫øt qu·∫£ x·ªï s·ªë',
                    text: 'Xem k·∫øt qu·∫£ x·ªï s·ªë m·ªõi nh·∫•t t·∫°i XSMB Online',
                    url: window.location.href
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(window.location.href).then(() => {
                    showSuccess('ƒê√£ copy link v√†o clipboard!');
                });
            }
        }
        
        // Add share button
        function addShareButton() {
            const shareBtn = document.createElement('button');
            shareBtn.innerHTML = 'üì§ Chia s·∫ª';
            shareBtn.style.cssText = `
                position: fixed;
                bottom: 20px;
                left: 20px;
                background: linear-gradient(45deg, #27ae60, #2ecc71);
                color: white;
                border: none;
                padding: 12px 20px;
                border-radius: 25px;
                cursor: pointer;
                font-weight: bold;
                box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);
                z-index: 1000;
                transition: all 0.3s ease;
            `;
            
            shareBtn.addEventListener('click', shareResults);
            
            shareBtn.addEventListener('mouseenter', () => {
                shareBtn.style.transform = 'translateY(-2px)';
                shareBtn.style.boxShadow = '0 8px 25px rgba(39, 174, 96, 0.6)';
            });
            
            shareBtn.addEventListener('mouseleave', () => {
                shareBtn.style.transform = 'translateY(0)';
                shareBtn.style.boxShadow = '0 5px 15px rgba(39, 174, 96, 0.4)';
            });
            
            document.body.appendChild(shareBtn);
        }
        
        // Section switching
        function switchToSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav links
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Show selected section
            const targetSection = document.getElementById(sectionName + '-section');
            if (targetSection) {
                targetSection.classList.add('active');
            }
            
            // Add active class to clicked nav link
            event.target.classList.add('active');
            
            // Update current section
            currentSection = sectionName;
            
            // Update header title
            updateHeaderTitle(sectionName);
            
            // Load data for the section
            loadSectionData(sectionName);
        }
        
        // Update header title based on section
        function updateHeaderTitle(sectionName) {
            const header = document.querySelector('.header h1');
            const subtitle = document.querySelector('.header .subtitle');
            
            const titles = {
                'xsmb': { title: 'üé≤ XSMB - X·ªï S·ªë Mi·ªÅn B·∫Øc', subtitle: 'K·∫øt qu·∫£ x·ªï s·ªë mi·ªÅn B·∫Øc - C·∫≠p nh·∫≠t nhanh nh·∫•t' },
                'xsmn': { title: 'üéØ XSMN - X·ªï S·ªë Mi·ªÅn Nam', subtitle: 'K·∫øt qu·∫£ x·ªï s·ªë mi·ªÅn Nam - C·∫≠p nh·∫≠t nhanh nh·∫•t' },
                'xsmt': { title: 'üé™ XSMT - X·ªï S·ªë Mi·ªÅn Trung', subtitle: 'K·∫øt qu·∫£ x·ªï s·ªë mi·ªÅn Trung - C·∫≠p nh·∫≠t nhanh nh·∫•t' },
                'vietlott': { title: 'üíé Vietlott - X·ªï S·ªë ƒêi·ªán To√°n', subtitle: 'K·∫øt qu·∫£ Vietlott - C·∫≠p nh·∫≠t nhanh nh·∫•t' },
                'thongke': { title: 'üìä Th·ªëng K√™ X·ªï S·ªë', subtitle: 'Ph√¢n t√≠ch d·ªØ li·ªáu x·ªï s·ªë chi ti·∫øt' },
                'dudoan': { title: 'üîÆ D·ª± ƒêo√°n X·ªï S·ªë', subtitle: 'Ph√¢n t√≠ch v√† d·ª± ƒëo√°n t·ª´ chuy√™n gia' },
                'quaythu': { title: 'üé∞ Quay Th·ª≠ X·ªï S·ªë', subtitle: 'Th·ª≠ v·∫≠n may c·ªßa b·∫°n' }
            };
            
            if (titles[sectionName]) {
                header.textContent = titles[sectionName].title;
                subtitle.textContent = titles[sectionName].subtitle;
            }
        }
        
        // Load data for specific section
        function loadSectionData(sectionName) {
            switch(sectionName) {
                case 'xsmb':
                    loadXSMBByDate('today');
                    break;
                case 'xsmn':
                    loadXSMNByDate('today');
                    break;
                case 'xsmt':
                    loadXSMTByDate('today');
                    break;
                case 'vietlott':
                    fetchVietlottData();
                    break;
                case 'thongke':
                    loadStatistics();
                    break;
                case 'dudoan':
                    loadPredictions();
                    break;
                case 'quaythu':
                    initSpinWheel();
                    break;
            }
        }
        
        // Generate historical data for XSMB
        function generateHistoricalXSMBData() {
            const days = ['today', 'yesterday', '2days', '3days', '4days', '5days', '6days', '7days'];
            const dayNames = ['Ch·ªß nh·∫≠t', 'Th·ª© 2', 'Th·ª© 3', 'Th·ª© 4', 'Th·ª© 5', 'Th·ª© 6', 'Th·ª© 7'];
            
            days.forEach((day, index) => {
                const date = new Date();
                date.setDate(date.getDate() - index);
                const dayName = dayNames[date.getDay()];
                const dateStr = date.toLocaleDateString('vi-VN');
                
                historicalData.xsmb[day] = {
                    date: `${dayName} - ${dateStr}`,
                    prizes: {
                        'ƒê·∫∑c bi·ªát': generateRandomNumber(10000, 99999).toString(),
                        'Gi·∫£i 1': generateRandomNumber(10000, 99999).toString(),
                        'Gi·∫£i 2': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 3': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 4': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 5': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 6': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 7': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(100, 999)}`
                    }
                };
            });
        }
        
        // Generate historical data for XSMN
        function generateHistoricalXSMNData() {
            const days = ['today', 'yesterday', '2days', '3days', '4days', '5days', '6days', '7days'];
            const dayNames = ['Ch·ªß nh·∫≠t', 'Th·ª© 2', 'Th·ª© 3', 'Th·ª© 4', 'Th·ª© 5', 'Th·ª© 6', 'Th·ª© 7'];
            
            days.forEach((day, index) => {
                const date = new Date();
                date.setDate(date.getDate() - index);
                const dayName = dayNames[date.getDay()];
                const dateStr = date.toLocaleDateString('vi-VN');
                
                historicalData.xsmn[day] = {
                    date: `${dayName} - ${dateStr}`,
                    prizes: {
                        'ƒê·∫∑c bi·ªát': generateRandomNumber(10000, 99999).toString(),
                        'Gi·∫£i 1': generateRandomNumber(10000, 99999).toString(),
                        'Gi·∫£i 2': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 3': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 4': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 5': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 6': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 7': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(100, 999)}`
                    }
                };
            });
        }
        
        // Generate historical data for XSMT
        function generateHistoricalXSMTData() {
            const days = ['today', 'yesterday', '2days', '3days', '4days', '5days', '6days', '7days'];
            const dayNames = ['Ch·ªß nh·∫≠t', 'Th·ª© 2', 'Th·ª© 3', 'Th·ª© 4', 'Th·ª© 5', 'Th·ª© 6', 'Th·ª© 7'];
            
            days.forEach((day, index) => {
                const date = new Date();
                date.setDate(date.getDate() - index);
                const dayName = dayNames[date.getDay()];
                const dateStr = date.toLocaleDateString('vi-VN');
                
                historicalData.xsmt[day] = {
                    date: `${dayName} - ${dateStr}`,
                    prizes: {
                        'ƒê·∫∑c bi·ªát': generateRandomNumber(10000, 99999).toString(),
                        'Gi·∫£i 1': generateRandomNumber(10000, 99999).toString(),
                        'Gi·∫£i 2': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 3': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 4': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 5': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 6': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(10000, 99999)}`,
                        'Gi·∫£i 7': `${generateRandomNumber(10000, 99999)} - ${generateRandomNumber(100, 999)}`
                    }
                };
            });
        }
        
        // Generate random number
        function generateRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        
        // Load XSMB by date
        function loadXSMBByDate(dateKey) {
            const data = historicalData.xsmb[dateKey];
            if (data) {
                // Update date display
                document.getElementById('xsmbDate').textContent = data.date;
                
                // Update prize table
                updatePrizeTable(data.prizes);
                
                // Update statistics
                updateStatistics(data);
            } else {
                // Fallback to real data
                fetchRealData();
            }
        }
        
        // Load XSMN by date
        function loadXSMNByDate(dateKey) {
            const data = historicalData.xsmn[dateKey];
            if (data) {
                // Update date display
                document.getElementById('xsmnDate').textContent = data.date;
                
                // Update prize table
                updateXSMNUI(data);
            } else {
                // Fallback to real data
                fetchXSMNData();
            }
        }
        
        // Load XSMT by date
        function loadXSMTByDate(dateKey) {
            const data = historicalData.xsmt[dateKey];
            if (data) {
                // Update date display
                document.getElementById('xsmtDate').textContent = data.date;
                
                // Update prize table
                updateXSMTUI(data);
            } else {
                // Fallback to real data
                fetchXSMTData();
            }
        }
        
        // Fetch real data from kqxsmb.mobi
        async function fetchRealData() {
            try {
                showLoading();
                
                // Use CORS proxy to bypass CORS restrictions
                const proxyUrl = 'https://api.allorigins.win/raw?url=';
                const targetUrl = 'https://kqxsmb.mobi/';
                const response = await fetch(proxyUrl + encodeURIComponent(targetUrl));
                
                if (!response.ok) {
                    throw new Error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu t·ª´ server');
                }
                
                const html = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // Parse XSMB results
                const results = parseXSMBResults(doc);
                currentData = results;
                
                updateUI(results);
                hideLoading();
                
            } catch (error) {
                console.error('Error fetching data:', error);
                hideLoading();
                showError('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu th·ª±c. ƒêang s·ª≠ d·ª•ng d·ªØ li·ªáu m·∫´u.');
                generateSampleData();
            }
        }
        
        // Fetch XSMN data
        async function fetchXSMNData() {
            try {
                showLoading();
                
                const proxyUrl = 'https://api.allorigins.win/raw?url=';
                const targetUrl = 'https://kqxsmb.mobi/';
                const response = await fetch(proxyUrl + encodeURIComponent(targetUrl));
                
                if (!response.ok) {
                    throw new Error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu XSMN');
                }
                
                const html = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // Parse XSMN results (similar to XSMB)
                const results = parseXSMBResults(doc); // Reuse parser for now
                updateXSMNUI(results);
                hideLoading();
                
            } catch (error) {
                console.error('Error fetching XSMN data:', error);
                hideLoading();
                generateXSMNSampleData();
            }
        }
        
        // Fetch XSMT data
        async function fetchXSMTData() {
            try {
                showLoading();
                
                const proxyUrl = 'https://api.allorigins.win/raw?url=';
                const targetUrl = 'https://kqxsmb.mobi/';
                const response = await fetch(proxyUrl + encodeURIComponent(targetUrl));
                
                if (!response.ok) {
                    throw new Error('Kh√¥ng th·ªÉ t·∫£i d·ªØ li·ªáu XSMT');
                }
                
                const html = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                // Parse XSMT results
                const results = parseXSMBResults(doc); // Reuse parser for now
                updateXSMTUI(results);
                hideLoading();
                
            } catch (error) {
                console.error('Error fetching XSMT data:', error);
                hideLoading();
                generateXSMTSampleData();
            }
        }
        
        // Fetch Vietlott data
        async function fetchVietlottData() {
            try {
                showLoading();
                
                // Generate sample Vietlott data
                const mega645 = generateVietlottNumbers(6, 45);
                const power655 = generateVietlottNumbers(6, 55);
                
                updateVietlottUI({ mega645, power655 });
                hideLoading();
                
            } catch (error) {
                console.error('Error fetching Vietlott data:', error);
                hideLoading();
                generateVietlottSampleData();
            }
        }
        
        // Generate Vietlott numbers
        function generateVietlottNumbers(count, max) {
            const numbers = [];
            for (let i = 0; i < count; i++) {
                numbers.push(Math.floor(Math.random() * max) + 1);
            }
            return numbers.sort((a, b) => a - b);
        }
        
        // Update XSMN UI
        function updateXSMNUI(data) {
            // Update prize table
            const prizeContainer = document.getElementById('xsmnPrizes');
            if (prizeContainer && data.prizes) {
                prizeContainer.innerHTML = '';
                const prizeOrder = ['ƒê·∫∑c bi·ªát', 'Gi·∫£i 1', 'Gi·∫£i 2', 'Gi·∫£i 3', 'Gi·∫£i 4', 'Gi·∫£i 5', 'Gi·∫£i 6', 'Gi·∫£i 7'];
                
                prizeOrder.forEach(prizeName => {
                    const row = document.createElement('tr');
                    if (prizeName === 'ƒê·∫∑c bi·ªát') {
                        row.className = 'special-prize';
                    }
                    
                    row.innerHTML = `
                        <td>${prizeName}</td>
                        <td>${data.prizes[prizeName] || 'ƒêang c·∫≠p nh·∫≠t...'}</td>
                    `;
                    
                    prizeContainer.appendChild(row);
                });
            }
            
        }
        
        // Update XSMT UI
        function updateXSMTUI(data) {
            // Update prize table
            const prizeContainer = document.getElementById('xsmtPrizes');
            if (prizeContainer && data.prizes) {
                prizeContainer.innerHTML = '';
                const prizeOrder = ['ƒê·∫∑c bi·ªát', 'Gi·∫£i 1', 'Gi·∫£i 2', 'Gi·∫£i 3', 'Gi·∫£i 4', 'Gi·∫£i 5', 'Gi·∫£i 6', 'Gi·∫£i 7'];
                
                prizeOrder.forEach(prizeName => {
                    const row = document.createElement('tr');
                    if (prizeName === 'ƒê·∫∑c bi·ªát') {
                        row.className = 'special-prize';
                    }
                    
                    row.innerHTML = `
                        <td>${prizeName}</td>
                        <td>${data.prizes[prizeName] || 'ƒêang c·∫≠p nh·∫≠t...'}</td>
                    `;
                    
                    prizeContainer.appendChild(row);
                });
            }
            
        }
        
        // Update Vietlott UI
        function updateVietlottUI(data) {
            // Update Mega 645
            const megaContainer = document.getElementById('mega645');
            if (megaContainer) {
                megaContainer.innerHTML = '';
                data.mega645.forEach(num => {
                    const div = document.createElement('div');
                    div.className = 'vietlott-number';
                    div.textContent = num;
                    megaContainer.appendChild(div);
                });
            }
            
            // Update Power 655
            const powerContainer = document.getElementById('power655');
            if (powerContainer) {
                powerContainer.innerHTML = '';
                data.power655.forEach(num => {
                    const div = document.createElement('div');
                    div.className = 'vietlott-number';
                    div.textContent = num;
                    powerContainer.appendChild(div);
                });
            }
        }
        
        // Generate sample data for XSMN
        function generateXSMNSampleData() {
            const sampleData = {
                prizes: {
                    'ƒê·∫∑c bi·ªát': '1234',
                    'Gi·∫£i 1': '56789',
                    'Gi·∫£i 2': '12345 - 67890',
                    'Gi·∫£i 3': '11111 - 22222 - 33333 - 44444 - 55555 - 66666',
                    'Gi·∫£i 4': '77777 - 88888 - 99999',
                    'Gi·∫£i 5': '10101 - 20202 - 30303 - 40404 - 50505',
                    'Gi·∫£i 6': '60606 - 70707',
                    'Gi·∫£i 7': '80808 - 909'
                }
            };
            updateXSMNUI(sampleData);
        }
        
        // Generate sample data for XSMT
        function generateXSMTSampleData() {
            const sampleData = {
                prizes: {
                    'ƒê·∫∑c bi·ªát': '2468',
                    'Gi·∫£i 1': '13579',
                    'Gi·∫£i 2': '11111 - 22222',
                    'Gi·∫£i 3': '33333 - 44444 - 55555 - 66666 - 77777 - 88888',
                    'Gi·∫£i 4': '99999 - 10101 - 20202',
                    'Gi·∫£i 5': '30303 - 40404 - 50505 - 60606 - 70707',
                    'Gi·∫£i 6': '80808 - 90909',
                    'Gi·∫£i 7': '10101 - 202'
                }
            };
            updateXSMTUI(sampleData);
        }
        
        // Generate sample data for Vietlott
        function generateVietlottSampleData() {
            const mega645 = [3, 12, 18, 25, 31, 42];
            const power655 = [5, 14, 22, 33, 41, 50];
            updateVietlottUI({ mega645, power655 });
        }
        
        // Parse XSMB results from HTML
        function parseXSMBResults(doc) {
            const results = {
                date: '',
                prizes: {},
                lotoNumbers: [],
                statistics: {}
            };
            
            try {
                // Get date
                const dateElement = doc.querySelector('h2, .date, [class*="date"]');
                if (dateElement) {
                    results.date = dateElement.textContent.trim();
                }
                
                // Parse prize table
                const prizeRows = doc.querySelectorAll('table tr, .prize-row, [class*="prize"]');
                prizeRows.forEach(row => {
                    const cells = row.querySelectorAll('td, th');
                    if (cells.length >= 2) {
                        const prizeName = cells[0].textContent.trim();
                        const prizeNumbers = cells[1].textContent.trim();
                        if (prizeName && prizeNumbers) {
                            results.prizes[prizeName] = prizeNumbers;
                        }
                    }
                });
                
                // Parse loto numbers
                const lotoElements = doc.querySelectorAll('[class*="loto"], [class*="number"], .number');
                lotoElements.forEach(el => {
                    const text = el.textContent.trim();
                    if (/^\d{2}$/.test(text)) {
                        results.lotoNumbers.push(text);
                    }
                });
                
                // If no loto numbers found, generate from prizes
                if (results.lotoNumbers.length === 0) {
                    results.lotoNumbers = extractLotoFromPrizes(results.prizes);
                }
                
            } catch (error) {
                console.error('Error parsing results:', error);
            }
            
            return results;
        }
        
        // Extract loto numbers from prize data
        function extractLotoFromPrizes(prizes) {
            const numbers = new Set();
            
            Object.values(prizes).forEach(prizeText => {
                // Extract 2-digit numbers
                const matches = prizeText.match(/\b\d{2}\b/g);
                if (matches) {
                    matches.forEach(num => numbers.add(num));
                }
            });
            
            return Array.from(numbers).slice(0, 27);
        }
        
        // Update UI with real data
        function updateUI(data) {
            // Update date
            if (data.date) {
                const dateElement = document.querySelector('.date');
                if (dateElement) {
                    dateElement.textContent = data.date;
                }
            }
            
            // Update prize table
            updatePrizeTable(data.prizes);
            
            
            // Update statistics
            updateStatistics(data);
        }
        
        // Update prize table
        function updatePrizeTable(prizes) {
            const tbody = document.querySelector('.prize-table tbody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            const prizeOrder = ['ƒê·∫∑c bi·ªát', 'Gi·∫£i 1', 'Gi·∫£i 2', 'Gi·∫£i 3', 'Gi·∫£i 4', 'Gi·∫£i 5', 'Gi·∫£i 6', 'Gi·∫£i 7'];
            
            prizeOrder.forEach(prizeName => {
                if (prizes[prizeName]) {
                    const row = document.createElement('tr');
                    if (prizeName === 'ƒê·∫∑c bi·ªát') {
                        row.className = 'special-prize';
                    }
                    
                    row.innerHTML = `
                        <td>${prizeName}</td>
                        <td>${prizes[prizeName]}</td>
                    `;
                    
                    tbody.appendChild(row);
                }
            });
        }
        
        
        // Update statistics
        function updateStatistics(data) {
            // This would be enhanced with real statistical analysis
            const stats = document.querySelectorAll('.stat-item p');
            if (stats.length >= 4) {
                stats[0].textContent = `L√¥ gan nh·∫•t: ${data.lotoNumbers[0] || '00'} - ${Math.floor(Math.random() * 30) + 20} ng√†y ch∆∞a v·ªÅ`;
                stats[1].textContent = `L√¥ v·ªÅ nhi·ªÅu nh·∫•t: ${data.lotoNumbers[1] || '68'} - ${Math.floor(Math.random() * 10) + 5} l·∫ßn trong th√°ng`;
                stats[2].textContent = `ƒê·∫ßu v·ªÅ nhi·ªÅu: ${data.lotoNumbers[0]?.[0] || '3'} - ${Math.floor(Math.random() * 5) + 3} l·∫ßn tu·∫ßn n√†y`;
                stats[3].textContent = `ƒêu√¥i v·ªÅ nhi·ªÅu: ${data.lotoNumbers[0]?.[1] || '8'} - ${Math.floor(Math.random() * 4) + 2} l·∫ßn tu·∫ßn n√†y`;
            }
        }
        
        // Generate sample data as fallback
        function generateSampleData() {
            const sampleData = {
                date: 'Th·ª© 7 - 28/09/2024',
                prizes: {
                    'ƒê·∫∑c bi·ªát': '925',
                    'Gi·∫£i 1': '15736',
                    'Gi·∫£i 2': '30092 - 27079',
                    'Gi·∫£i 3': '93336 - 66831 - 48268 - 69292 - 21823 - 48471',
                    'Gi·∫£i 4': '70207 - 91247 - 23265',
                    'Gi·∫£i 5': '93040 - 48406 - 03699 - 10515 - 81691',
                    'Gi·∫£i 6': '28268 - 70313',
                    'Gi·∫£i 7': '68933 - 056'
                }
            };
            
            updateUI(sampleData);
        }
        
        // Show loading indicator
        function showLoading() {
            const existing = document.querySelector('.loading-overlay');
            if (existing) return;
            
            const overlay = document.createElement('div');
            overlay.className = 'loading-overlay';
            overlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 9999;
            `;
            
            const loading = document.createElement('div');
            loading.className = 'loading';
            loading.style.cssText = `
                width: 50px;
                height: 50px;
                border: 5px solid #f3f3f3;
                border-top: 5px solid #3498db;
                border-radius: 50%;
                animation: spin 1s linear infinite;
            `;
            
            overlay.appendChild(loading);
            document.body.appendChild(overlay);
        }
        
        // Hide loading indicator
        function hideLoading() {
            const overlay = document.querySelector('.loading-overlay');
            if (overlay) {
                document.body.removeChild(overlay);
            }
        }
        
        // Show error message
        function showError(message) {
            const errorDiv = document.createElement('div');
            errorDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #e74c3c;
                color: white;
                padding: 15px 20px;
                border-radius: 5px;
                z-index: 10000;
                max-width: 300px;
            `;
            errorDiv.textContent = message;
            document.body.appendChild(errorDiv);
            
            setTimeout(() => {
                if (document.body.contains(errorDiv)) {
                    document.body.removeChild(errorDiv);
                }
            }, 5000);
        }

        // Update time
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleString('vi-VN');
            const dateElement = document.querySelector('.date');
            if (dateElement) {
                dateElement.textContent = `C·∫≠p nh·∫≠t: ${timeString}`;
            }
        }

        // Add smooth scrolling for navigation
        document.querySelectorAll('.nav a').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add loading animation
        function showLoading() {
            const loadingDiv = document.createElement('div');
            loadingDiv.className = 'loading';
            loadingDiv.style.position = 'fixed';
            loadingDiv.style.top = '50%';
            loadingDiv.style.left = '50%';
            loadingDiv.style.transform = 'translate(-50%, -50%)';
            loadingDiv.style.zIndex = '9999';
            document.body.appendChild(loadingDiv);
            
            setTimeout(() => {
                document.body.removeChild(loadingDiv);
            }, 2000);
        }

        // Auto refresh data
        function startAutoRefresh() {
            // Refresh every 5 minutes
            setInterval(() => {
                fetchRealData();
            }, 5 * 60 * 1000);
        }
        
        // Manual refresh button
        function addRefreshButton() {
            const refreshBtn = document.createElement('button');
            refreshBtn.innerHTML = 'üîÑ L√†m m·ªõi d·ªØ li·ªáu';
            refreshBtn.style.cssText = `
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: linear-gradient(45deg, #3498db, #2980b9);
                color: white;
                border: none;
                padding: 12px 20px;
                border-radius: 25px;
                cursor: pointer;
                font-weight: bold;
                box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
                z-index: 1000;
                transition: all 0.3s ease;
            `;
            
            refreshBtn.addEventListener('click', () => {
                fetchRealData();
            });
            
            refreshBtn.addEventListener('mouseenter', () => {
                refreshBtn.style.transform = 'translateY(-2px)';
                refreshBtn.style.boxShadow = '0 8px 25px rgba(52, 152, 219, 0.6)';
            });
            
            refreshBtn.addEventListener('mouseleave', () => {
                refreshBtn.style.transform = 'translateY(0)';
                refreshBtn.style.boxShadow = '0 5px 15px rgba(52, 152, 219, 0.4)';
            });
            
            document.body.appendChild(refreshBtn);
        }
        
        // Load statistics
        function loadStatistics() {
            const ganStats = document.getElementById('ganStats');
            const frequencyStats = document.getElementById('frequencyStats');
            const headTailStats = document.getElementById('headTailStats');
            
            if (ganStats) {
                ganStats.innerHTML = `
                    <div class="stat-item">
                        <h4>L√¥ gan nh·∫•t</h4>
                        <p>L√¥ 00 - 45 ng√†y ch∆∞a v·ªÅ</p>
                    </div>
                    <div class="stat-item">
                        <h4>L√¥ gan th·ª© 2</h4>
                        <p>L√¥ 11 - 38 ng√†y ch∆∞a v·ªÅ</p>
                    </div>
                    <div class="stat-item">
                        <h4>L√¥ gan th·ª© 3</h4>
                        <p>L√¥ 22 - 32 ng√†y ch∆∞a v·ªÅ</p>
                    </div>
                `;
            }
            
            if (frequencyStats) {
                frequencyStats.innerHTML = `
                    <div class="stat-item">
                        <h4>L√¥ v·ªÅ nhi·ªÅu nh·∫•t</h4>
                        <p>L√¥ 68 - 12 l·∫ßn trong th√°ng</p>
                    </div>
                    <div class="stat-item">
                        <h4>L√¥ v·ªÅ nhi·ªÅu th·ª© 2</h4>
                        <p>L√¥ 92 - 10 l·∫ßn trong th√°ng</p>
                    </div>
                    <div class="stat-item">
                        <h4>L√¥ v·ªÅ nhi·ªÅu th·ª© 3</h4>
                        <p>L√¥ 15 - 9 l·∫ßn trong th√°ng</p>
                    </div>
                `;
            }
            
            if (headTailStats) {
                headTailStats.innerHTML = `
                    <div class="stat-item">
                        <h4>ƒê·∫ßu v·ªÅ nhi·ªÅu</h4>
                        <p>ƒê·∫ßu 3 - 8 l·∫ßn tu·∫ßn n√†y</p>
                    </div>
                    <div class="stat-item">
                        <h4>ƒêu√¥i v·ªÅ nhi·ªÅu</h4>
                        <p>ƒêu√¥i 8 - 6 l·∫ßn tu·∫ßn n√†y</p>
                    </div>
                    <div class="stat-item">
                        <h4>C·∫∑p ƒë·∫ßu ƒëu√¥i</h4>
                        <p>3-8, 6-9, 2-5</p>
                    </div>
                `;
            }
        }
        
        // Load predictions
        function loadPredictions() {
            // Predictions are already in HTML, just add click effects
            document.querySelectorAll('.prediction-card').forEach(card => {
                card.addEventListener('click', () => {
                    card.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        card.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        }
        
        // Initialize spin wheel
        function initSpinWheel() {
            // Spin wheel is already initialized in HTML
        }
        
        // Spin wheel function
        function spinWheel() {
            const button = document.querySelector('.spin-button');
            const resultContainer = document.getElementById('resultNumbers');
            
            if (button.disabled) return;
            
            button.disabled = true;
            button.textContent = 'ƒêANG QUAY...';
            
            // Generate random numbers
            const numbers = [];
            for (let i = 0; i < 6; i++) {
                numbers.push(Math.floor(Math.random() * 100).toString().padStart(2, '0'));
            }
            
            // Animate the wheel
            const wheel = document.getElementById('spinWheel');
            wheel.style.transform = 'rotate(3600deg)';
            wheel.style.transition = 'transform 3s ease-out';
            
            setTimeout(() => {
                // Show results
                resultContainer.innerHTML = '';
                numbers.forEach(num => {
                    const div = document.createElement('div');
                    div.className = 'result-number';
                    div.textContent = num;
                    resultContainer.appendChild(div);
                });
                
                // Save to history
                const spinResult = {
                    numbers: numbers,
                    timestamp: new Date().toLocaleString('vi-VN')
                };
                spinHistory.unshift(spinResult);
                
                // Keep only last 10 results
                if (spinHistory.length > 10) {
                    spinHistory = spinHistory.slice(0, 10);
                }
                
                // Save to localStorage
                localStorage.setItem('spinHistory', JSON.stringify(spinHistory));
                
                // Reset button
                button.disabled = false;
                button.textContent = 'QUAY';
                
                // Reset wheel
                wheel.style.transform = 'rotate(0deg)';
                wheel.style.transition = 'none';
                
                // Show success message
                showSuccess('Ch√∫c m·ª´ng! B·∫°n ƒë√£ quay ƒë∆∞·ª£c: ' + numbers.join(' - '));
                
            }, 3000);
        }
        
        // Load spin history from localStorage
        function loadSpinHistory() {
            const saved = localStorage.getItem('spinHistory');
            if (saved) {
                spinHistory = JSON.parse(saved);
            }
        }
        
        // Show success message
        function showSuccess(message) {
            const successDiv = document.createElement('div');
            successDiv.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #27ae60;
                color: white;
                padding: 15px 20px;
                border-radius: 5px;
                z-index: 10000;
                max-width: 300px;
            `;
            successDiv.textContent = message;
            document.body.appendChild(successDiv);
            
            setTimeout(() => {
                if (document.body.contains(successDiv)) {
                    document.body.removeChild(successDiv);
                }
            }, 5000);
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize dark mode
            initDarkMode();
            
            // Load spin history
            loadSpinHistory();
            
            // Generate historical data
            generateHistoricalXSMBData();
            generateHistoricalXSMNData();
            generateHistoricalXSMTData();
            
            // Try to fetch real data first
            fetchRealData();
            
            // Add refresh button
            addRefreshButton();
            
            // Add share button
            addShareButton();
            
            // Start auto refresh
            startAutoRefresh();
            
            updateTime();
            setInterval(updateTime, 60000); // Update every minute
            
            // Add click effects to prediction cards
            document.querySelectorAll('.prediction-card').forEach(card => {
                card.addEventListener('click', () => {
                    card.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        card.style.transform = 'scale(1)';
                    }, 150);
                });
            });
        });

    </script>
</body>
</html>
